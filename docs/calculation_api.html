

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Hotspot Calculation API &mdash; Hotspots API 1.0.2 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Hotspot IO API" href="hs_io_api.html" />
    <link rel="prev" title="Introduction" href="tutorial.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Hotspots API
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html#installation-notes">Installation Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html#cookbook-documentation">Cookbook Documentation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Hotspot Calculation API</a></li>
<li class="toctree-l1"><a class="reference internal" href="hs_io_api.html">Hotspot IO API</a></li>
<li class="toctree-l1"><a class="reference internal" href="result_api.html">Result API</a></li>
<li class="toctree-l1"><a class="reference internal" href="hs_pharmacophore_api.html">Hotspot Pharmacophore API</a></li>
<li class="toctree-l1"><a class="reference internal" href="hs_docking_api.html">Hotspot Docking API</a></li>
<li class="toctree-l1"><a class="reference internal" href="hs_utilities_api.html">Hotspot Utilities API</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Hotspots API</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Hotspot Calculation API</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/calculation_api.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-hotspots.calculation">
<span id="hotspot-calculation-api"></span><h1>Hotspot Calculation API<a class="headerlink" href="#module-hotspots.calculation" title="Permalink to this headline">¶</a></h1>
<p>The <a class="reference internal" href="#module-hotspots.calculation" title="hotspots.calculation"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hotspots.calculation</span></code></a> handles the main Fragment Hotspot Maps algorithm. In addition, an alternative pocket burial method, Ghecom, is provided.</p>
<p>The main classes of the <a class="reference internal" href="#module-hotspots.calculation" title="hotspots.calculation"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hotspots.calculation</span></code></a> module are:</p>
<ul class="simple">
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">hotspots.calculation.Buriedness</span></code></p></li>
<li><p><a class="reference internal" href="#hotspots.calculation.Runner" title="hotspots.calculation.Runner"><code class="xref py py-class docutils literal notranslate"><span class="pre">hotspots.calculation.Runner</span></code></a></p></li>
</ul>
<dl class="simple">
<dt>More information about the Fragment Hotspot Maps method is available from:</dt><dd><ul class="simple">
<li><p>Radoux, C.J. et. al., Identifying the Interactions that Determine Fragment Binding at Protein Hotspots J. Med. Chem. 2016, 59 (9), 4314-4325 [dx.doi.org/10.1021/acs.jmedchem.5b01980]</p></li>
</ul>
</dd>
<dt>More information about the Ghecom method is available from:</dt><dd><ul class="simple">
<li><p>Kawabata T, Go N. Detection of pockets on protein surfaces using small and large probe spheres to find putative ligand binding sites. Proteins 2007; 68: 516-529</p></li>
</ul>
</dd>
</dl>
<dl class="py class">
<dt id="hotspots.calculation.Runner">
<em class="property">class </em><code class="sig-prename descclassname">hotspots.calculation.</code><code class="sig-name descname">Runner</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">settings</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hotspots/calculation.html#Runner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hotspots.calculation.Runner" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class for running the Fragment Hotspot Map calculation</p>
<dl class="py class">
<dt id="hotspots.calculation.Runner.Settings">
<em class="property">class </em><code class="sig-name descname">Settings</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nrotations</span><span class="o">=</span><span class="default_value">3000</span></em>, <em class="sig-param"><span class="n">apolar_translation_threshold</span><span class="o">=</span><span class="default_value">15</span></em>, <em class="sig-param"><span class="n">polar_translation_threshold</span><span class="o">=</span><span class="default_value">15</span></em>, <em class="sig-param"><span class="n">polar_contributions</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">return_probes</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">sphere_maps</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hotspots/calculation.html#Runner.Settings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hotspots.calculation.Runner.Settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>adjusts the default settings for the calculation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nrotations</strong> (<em>int</em>) – number of rotations (keep it below 10**6)</p></li>
<li><p><strong>apolar_translation_threshold</strong> (<em>float</em>) – translate probe to grid points above this threshold. Give lower values for greater sampling. Default 15</p></li>
<li><p><strong>polar_translation_threshold</strong> (<em>float</em>) – translate probe to grid points above this threshold. Give lower values for greater sampling. Default 15</p></li>
<li><p><strong>polar_contributions</strong> (<em>bool</em>) – allow carbon atoms of probes with polar atoms to contribute to the apolar output map.</p></li>
<li><p><strong>return_probes</strong> (<em>bool</em>) – Generate a sorted list of molecule objects, corresponding to probe poses</p></li>
<li><p><strong>sphere_maps</strong> (<em>bool</em>) – When setting the probe score on the output maps, set it for a sphere (radius 1.5) instead of a single point.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="hotspots.calculation.Runner.from_pdb">
<code class="sig-name descname">from_pdb</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pdb_code</span></em>, <em class="sig-param"><span class="n">charged_probes</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">probe_size</span><span class="o">=</span><span class="default_value">7</span></em>, <em class="sig-param"><span class="n">buriedness_method</span><span class="o">=</span><span class="default_value">'ghecom'</span></em>, <em class="sig-param"><span class="n">nprocesses</span><span class="o">=</span><span class="default_value">3</span></em>, <em class="sig-param"><span class="n">cavities</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">settings</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">clear_tmp</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hotspots/calculation.html#Runner.from_pdb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hotspots.calculation.Runner.from_pdb" title="Permalink to this definition">¶</a></dt>
<dd><p>generates a result from a pdb code</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pdb_code</strong> (<em>str</em>) – PDB code</p></li>
<li><p><strong>charged_probes</strong> (<em>bool</em>) – If True include positive and negative probes</p></li>
<li><p><strong>probe_size</strong> (<em>int</em>) – Size of probe in number of heavy atoms (3-8 atoms)</p></li>
<li><p><strong>buriedness_method</strong> (<em>str</em>) – Either ‘ghecom’ or ‘ligsite’</p></li>
<li><p><strong>nprocesses</strong> (<em>int</em>) – number of CPU’s used</p></li>
<li><p><strong>settings</strong> (<a class="reference internal" href="#hotspots.calculation.Runner.Settings" title="hotspots.calculation.Runner.Settings"><em>hotspots.calculation.Runner.Settings</em></a>) – holds the calculation settings</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <code class="xref py py-class docutils literal notranslate"><span class="pre">hotspots.result.Result</span></code> instance</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hotspots.calculation</span> <span class="kn">import</span> <span class="n">Runner</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">runner</span> <span class="o">=</span> <span class="n">Runner</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">runner</span><span class="o">.</span><span class="n">from_pdb</span><span class="p">(</span><span class="s2">&quot;1hcl&quot;</span><span class="p">)</span>
<span class="go">Result()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="hotspots.calculation.Runner.from_protein">
<code class="sig-name descname">from_protein</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">protein</span></em>, <em class="sig-param"><span class="n">charged_probes</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">probe_size</span><span class="o">=</span><span class="default_value">7</span></em>, <em class="sig-param"><span class="n">buriedness_method</span><span class="o">=</span><span class="default_value">'ghecom'</span></em>, <em class="sig-param"><span class="n">cavities</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">nprocesses</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">settings</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">buriedness_grid</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">clear_tmp</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hotspots/calculation.html#Runner.from_protein"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hotspots.calculation.Runner.from_protein" title="Permalink to this definition">¶</a></dt>
<dd><p>generates a result from a protein</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>protein</strong> – a <code class="xref py py-class docutils literal notranslate"><span class="pre">ccdc.protein.Protein</span></code> instance</p></li>
<li><p><strong>charged_probes</strong> (<em>bool</em>) – If True include positive and negative probes</p></li>
<li><p><strong>probe_size</strong> (<em>int</em>) – Size of probe in number of heavy atoms (3-8 atoms)</p></li>
<li><p><strong>buriedness_method</strong> (<em>str</em>) – Either ‘ghecom’ or ‘ligsite’</p></li>
<li><p><strong>cavities</strong> – Coordinate or <cite>ccdc.cavity.Cavity</cite> or <cite>ccdc.molecule.Molecule</cite> or list specifying the cavity or cavities on which the calculation should be run</p></li>
<li><p><strong>nprocesses</strong> (<em>int</em>) – number of CPU’s used</p></li>
<li><p><strong>settings</strong> (<a class="reference internal" href="#hotspots.calculation.Runner.Settings" title="hotspots.calculation.Runner.Settings"><em>hotspots.calculation.Runner.Settings</em></a>) – holds the sampler settings</p></li>
<li><p><strong>buriedness_grid</strong> (<em>ccdc.utilities.Grid</em>) – pre-calculated buriedness grid</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <a class="reference internal" href="result_api.html#hotspots.result.Results" title="hotspots.result.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">hotspots.result.Results</span></code></a> instance</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ccdc.protein</span> <span class="kn">import</span> <span class="n">Protein</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hotspots.calculation</span> <span class="kn">import</span> <span class="n">Runner</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">protein</span> <span class="o">=</span> <span class="n">Protein</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path_to_protein</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">runner</span> <span class="o">=</span> <span class="n">Runner</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">settings</span> <span class="o">=</span> <span class="n">Runner</span><span class="o">.</span><span class="n">Settings</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">settings</span><span class="o">.</span><span class="n">nrotations</span> <span class="o">=</span> <span class="mi">1000</span>  <span class="c1"># fewer rotations increase speed at the expense of accuracy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">runner</span><span class="o">.</span><span class="n">from_protein</span><span class="p">(</span><span class="n">protein</span><span class="p">,</span> <span class="n">nprocesses</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">settings</span><span class="o">=</span><span class="n">settings</span><span class="p">)</span>
<span class="go">Result()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="hotspots.calculation.Runner.from_superstar">
<code class="sig-name descname">from_superstar</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">protein</span></em>, <em class="sig-param"><span class="n">superstar_grids</span></em>, <em class="sig-param"><span class="n">buriedness</span></em>, <em class="sig-param"><span class="n">charged_probes</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">probe_size</span><span class="o">=</span><span class="default_value">7</span></em>, <em class="sig-param"><span class="n">settings</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">clear_tmp</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hotspots/calculation.html#Runner.from_superstar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hotspots.calculation.Runner.from_superstar" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate hotspot maps from precalculated superstar maps. This enables more effective parallelisation and reuse
of object such as the Buriedness grids</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>protein</strong> – a <code class="xref py py-class docutils literal notranslate"><span class="pre">ccdc.protein.Protein</span></code> instance</p></li>
<li><p><strong>superstar_grids</strong> – a <code class="xref py py-class docutils literal notranslate"><span class="pre">hotspots.atomic_hotspot_calculation._AtomicHotspotResult</span></code> instance</p></li>
<li><p><strong>buriedness</strong> – a <code class="xref py py-class docutils literal notranslate"><span class="pre">hotspots.grid_extension.Grid</span></code> instance</p></li>
<li><p><strong>charged_probes</strong> (<em>bool</em>) – If True, include positive and negative probes</p></li>
<li><p><strong>probe_size</strong> (<em>int</em>) – Size of probe in number of heavy atoms (3-8 atoms)</p></li>
<li><p><strong>settings</strong> – <cite>hotspots.calculation.Runner.Settings</cite> settings: holds the sampler settings</p></li>
<li><p><strong>clear_tmp</strong> (<em>bool</em>) – If True, clear the temporary directory</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="hs_io_api.html" class="btn btn-neutral float-right" title="Hotspot IO API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="tutorial.html" class="btn btn-neutral float-left" title="Introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright Chris Radoux, Peter Curran, Mihaela D. Smilova, Richard A. Sykes, Alicia Higueruelo, Anthony Bradley, Brian D. Marsdend, David R. Spring, Tom L. Blundell, Andrew R. Leach, William R. Pitt, Jason C. Cole

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>